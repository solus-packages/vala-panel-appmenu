name       : vala-panel-appmenu
version    : 0.7.3
release    : 10
source     :
    - https://gitlab.com/vala-panel-project/vala-panel-appmenu/uploads/3a8f5dc089200a34ade8377bdc520963/vala-panel-appmenu-0.7.3.tar.xz : 0f28847e61e4bd48741574a7e8d6e44499f819727e3dee4e2e5c552a5214ac81
license    : GPL-3.0-or-later
component  :
    - desktop.utils
    - mate-desktop : desktop.mate
    - budgie-desktop : desktop.budgie
libsplit   : no
summary    : Global menu for Vala Panel (and others)
description: |
    A GTK3 global menu implementation for Vala, Budgie, MATE, and XFCE panels
patterns   :
    - mate-desktop :
        - /usr/lib64/mate-panel
        - /usr/libexec/mate-panel
        - /usr/share/dbus-1/services/org.mate.panel.applet.AppmenuAppletFactory.service
        - /usr/share/mate-panel/applets/org.vala-panel.appmenu.mate-panel-applet
    - budgie-desktop :
        - /usr/lib64/budgie-desktop/plugins
builddeps  :
    - pkgconfig(budgie-1.0)
    - pkgconfig(gtk+-2.0)
    - pkgconfig(libbamf3)
    - pkgconfig(libmatepanelapplet-4.0)
    - pkgconfig(libwnck-3.0)
    - vala
rundeps    :
    - mate-desktop : vala-panel-appmenu
    - budgie-desktop : vala-panel-appmenu
setup      : |
    %patch -p1 < $pkgfiles/0001-Tweak-CMake-for-bamf-check.patch
    %meson_configure
build      : |
    %ninja_build
install    : |
    %ninja_install
    rm -rf $installdir/usr/share/{appmenu-gtk-module,vala-panel-appmenu}
